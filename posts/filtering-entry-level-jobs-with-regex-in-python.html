<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ob | Filtering Entry-Level Job Posts with regex</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Filtering Entry-Level Job Posts with regex">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000/posts/filtering-entry-level-jobs-with-regex-in-python">
  <meta property="og:description" content="">
  <meta property="og:site_name" content="ob">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://localhost:4000/posts/filtering-entry-level-jobs-with-regex-in-python">
  <meta name="twitter:title" content="Filtering Entry-Level Job Posts with regex">
  <meta name="twitter:description" content="">

  
    <meta property="og:image" content="http://localhost:4000/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
    <meta name="twitter:image" content="http://localhost:4000/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
  

  <link href="http://localhost:4000/feed.xml" type="application/rss+xml" rel="alternate" title="ob Last 10 blog posts" />

  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-light-0c617fed9217b26b776666ff7cca84b878cefc26981c2ccf9b559c5df26270cb.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-f0c4a3f9ce31fe7c139badc5426f019853e3a43e6a389fcde1c6bb3bb7b2be9f.png">
      <link rel="stylesheet" type="text/css" href="/assets/light-bb1553a18d0f1ccfe1aabc010584c49b4277a88503216b78906ba719e30019c1.css">
    

  

</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="ob">ob</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/ortonbabb" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:ortonbabb@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
    
    
  </ul>
</nav>



        <article class="article scrollappear">
          <header class="article-header">
            <h1>Filtering Entry-Level Job Posts with regex</h1>
            <p></p>
            <div class="article-list-footer">
  <span class="article-list-date">
    May 10, 2020
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      3 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/python" title="See all posts with tag 'Python'">Python</a>
    
      
      <a href="/tag/career" title="See all posts with tag 'Career'">Career</a>
    
  </div>
</div>
          </header>

          <div class="article-content">
            <p>As an entry-level job seeker, reading through job posts only to find out there are experience requirements that exclude me from eligibility is laborsome. To automate your job search all you need is a job board API (or several) and a script that can filter those jobs.</p>

<h1 id="constructing-the-filter">Constructing the filter</h1>

<p>In order to construct the filter, I created a data set of job posts scraped from the web and manually classified each as either entry-level or not. Along the way, I took notes on some of the features that I was using to differentiate them so that I could put it into code. Based on this, I had a prototype filter and a dataset to test it on.</p>

<p>Testing the filter was complicated by the fact that since I had already seen the jobs when labelling, I can’t test the filter on jobs that I haven’t seen (thereby introducing bias).</p>

<p>I checked how well represented entry-level jobs are in the data set. Actually entry level jobs made up 25% of the data set. We can take this to be an estimate of the actual frequency. We can also use bootstrapping methods to put a confidence interval on the estimate (which I did not do here).</p>

<p>What’s important is that we could imagine a filter that would just assign everything as not entry-level and <strong>it would be accurate roughly 75% of the time</strong>. For our filter to be worth its salt, it has to beat this value.</p>

<p>Here are the regular expressions, I used to represent the common disqualifiers for entry-level status:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">predict_entry_level</span><span class="p">(</span><span class="n">job_title</span><span class="p">,</span> <span class="n">job_description</span><span class="p">):</span>
  <span class="n">title_pattern</span> <span class="o">=</span> <span class="s">r"I{2,3}|IV|[sS]enior|[sS]r\.*|[lL]ead|[dD]irector|[Pp]rincipal|[mM]anage|[eE]xperienced"</span>

  <span class="n">description_pattern</span> <span class="o">=</span> <span class="s">r"(?:[mM]inimum|[mM]in\.?|[aA]t least|[tT]otal|[iI]ncluding|[wW]ith).+(?:\d+|one|two|three|four|five|six|seven|eight|nine|ten)\+* (?:[yY]ears*|[yY]rs*)|[mM]aster'?s"</span>

    <span class="n">titleQ</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">title_pattern</span><span class="p">,</span> <span class="n">job_title</span><span class="p">)</span>
    <span class="n">descriptionQ</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">description_pattern</span><span class="p">,</span> <span class="n">job_description</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">titleQ</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">descriptionQ</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
</code></pre></div></div>
<p><br /></p>

<p>Since the labelling of job posts as entry-level or not was labor intensive I used pickle files (<code class="highlighter-rouge">dataLabelerVars.pickle</code>) to store intermediate versions of the labelled data. When I start a session, I reload the jobs back into the namespace. The variable <code class="highlighter-rouge">datajobs</code> is a pandas DataFrame containing information like job description, title, location, etc. There was also an index variable stores to pick up where I left off.</p>

<p>One the labeling was finished, I could just load <code class="highlighter-rouge">datajobs</code> and apply the filter on each job for the test:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">pickle</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'dataLabelerVars.pickle'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">datajobs</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">datajobs</span><span class="p">[</span><span class="s">"TestQ"</span><span class="p">]</span> <span class="o">=</span>  <span class="bp">None</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">datajobs</span><span class="p">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">datajobs</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s">"TestQ"</span><span class="p">]</span> <span class="o">=</span> <span class="n">predict_entry_level</span><span class="p">(</span><span class="n">job_title</span><span class="p">,</span> <span class="n">job_description</span><span class="p">)</span>
</code></pre></div></div>
<p><br /></p>

<p>To test the accuracy, I compared the predicted with the actual.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">datajobs</span><span class="p">[</span><span class="s">"entry_level_q"</span><span class="p">]</span> <span class="o">==</span> <span class="n">datajobs</span><span class="p">[</span><span class="s">"TestQ"</span><span class="p">]).</span><span class="nb">sum</span><span class="p">()</span><span class="o">/</span><span class="n">datajobs</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>
<p><br /></p>

<p>I was able to get an accuracy rate of &gt;85% with this method. That’s should be high enough to be useful for me!</p>

          </div>
          <!-- <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=Filtering+Entry-Level+Job+Posts+with+regex%20-%20http://localhost:4000/posts/filtering-entry-level-jobs-with-regex-in-python" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/filtering-entry-level-jobs-with-regex-in-python" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
          </div> -->

          
        </article>
        <footer class="footer scrollappear">
  <p>
    <center>
    <a href='/' style="padding-right:1em; padding-left:1em; color:#ada8a8">Home</a>
    <a href='/research' style="padding-right:1em; padding-left:1em; color:#ada8a8">Research</a>
    <a href='/about' style="padding-right:1em; padding-left:1em; color:#ada8a8">About</a>
    </center>
  </p>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162096735-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-162096735-1');
  </script>


<script src="/assets/vendor-130c9c254effc51f3283620bc635851da7b99c20901216948f11ba72ee13317f.js" type="text/javascript"></script>


  <script src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js" type="text/javascript"></script>



  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


</body>
</html>
